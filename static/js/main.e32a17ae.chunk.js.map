{"version":3,"sources":["App/toGeoJson.ts","App/setCluster.ts","App/Links.tsx","App/distance-label.ts","App/Shop.tsx","App/Map.tsx","App/Home.tsx","App/ShopListItem.tsx","App/List.tsx","App/AboutUs.tsx","App/Category.tsx","App/Images.tsx","App/Tabbar.tsx","App.tsx","Qrcode.tsx","App/Share.tsx","About.tsx","Container.tsx","serviceWorkerRegistration.ts","index.tsx"],"names":["toGeoJson","data","geojson","type","features","id","item","feature","geometry","coordinates","Number","properties","_id","i","Object","keys","length","key","push","setCluster","map","addLayer","source","filter","paint","layout","on","e","queryRenderedFeatures","point","layers","clusterId","cluster_id","getSource","getClusterExpansionZoom","err","zoom","easeTo","center","getCanvas","style","cursor","noop","stopPropagation","Content","props","className","href","onClick","size","makeDistanceLabelText","distance","distanceTipText","isNaN","Math","round","mapNode","React","useRef","useState","setMap","shop","clickHandler","close","current","remove","useEffect","nextMap","window","geolonia","Map","container","interactive","process","text","category","rate","parseInt","content","color","to","margin","ref","width","height","marginTop","split","line","result","undefined","src","alt","count","value","edit","target","rel","CSS","position","hidePoiLayers","hideLayers","layerId","setLayoutProperty","mapObject","setMapObject","setShop","addMarkers","addSource","cluster","clusterMaxZoom","clusterRadius","event","bounds","geojsonExtent","fitBoundsOptions","padding","fitBounds","onMapLoad","orienteationchangeHandler","resize","addEventListener","removeEventListener","off","name","zIndex","onChange","selectStyle","setStyle","popupHandler","isCategoryPage","queryCategory","setData","list","setList","page","setPage","hasMore","setHasMore","useSearchParams","searchParams","get","queryRate","queryAuthor","queryAuthorName","postByAuthor","find","isMounted","slice","loader","textAlign","dataLength","next","scrollableTarget","index","config","title","repository","form_url","location","navigate","useNavigate","categoryList","setCategoryList","rateList","setRateList","authorList","setAuthorList","categories","rates","authors","indexOf","author","findIndex","htmlFor","options","label","validImageList","setValidImageList","imageListItems","match","ImageListItem","loading","onError","parentNode","ImageList","sx","cols","rowHeight","sortShopList","shopList","a","sort","item1","item2","Date","parse","App","setShopList","fetch","getTime","then","response","ok","Promise","reject","status","fetchedData","JSON","console","log","header","values","record","reduce","prev","column","replace","s","String","fromCharCode","charCodeAt","nextShopList","sortedShopList","path","element","Home","Qrcode","url","Canvas","useQRCode","TwitterShareButton","hashtags","TwitterIcon","FacebookShareButton","hashtag","FacebookIcon","LineShareButton","LineIcon","description","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","origin","headers","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.e32a17ae.chunk.js","sourcesContent":["type Geometry = {\n  type: string;\n  coordinates: number[]\n}\n\ntype featureProperties = {\n  [key: string]: string;\n}\n\ntype Feature = {\n  type: string;\n  geometry: Geometry;\n  properties: featureProperties\n}\n\ntype itemObject = {\n  [key: string]: any;\n}\n\ntype GeoJSON = {\n  type: string;\n  features: Feature[]\n}\n\nconst toGeoJson = (data: any) => {\n  const geojson = {\n    type: \"FeatureCollection\",\n    features: []\n  } as GeoJSON\n\n  for (const id in data) {\n    const item = data[id] as itemObject\n\n    if (!item['経度'] || !item['緯度'] || !item['スポット名']) {\n      return;\n    }\n\n    const feature = {\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: [Number(item['経度']), Number(item['緯度'])]\n      },\n      properties: {_id: id}\n    } as Feature\n\n    for (let i = 0; i < Object.keys(item).length; i++) {\n      const key = Object.keys(item)[i]\n      feature.properties[key] = item[key]\n    }\n\n    geojson.features.push(feature)\n  }\n\n  return geojson\n}\n\nexport default toGeoJson;\n","const setCluster = (map: any) => {\n  map.addLayer({\n    id: 'clusters',\n    type: 'circle',\n    source: 'shops',\n    filter: ['has', 'point_count'],\n    paint: {\n      'circle-radius': 20,\n      'circle-color': '#FF0000',\n      'circle-opacity': 1.0,\n    },\n  })\n\n  map.addLayer({\n    id: 'cluster-count',\n    type: 'symbol',\n    source: 'shops',\n    filter: ['has', 'point_count'],\n    paint: {\n      'text-color': '#FFFFFF',\n    },\n    layout: {\n      'text-field': '{point_count_abbreviated} 件',\n      'text-size': 12,\n      'text-font': ['Noto Sans Regular'],\n    },\n  })\n\n  map.on('click', 'clusters', (e: any) => {\n    const features = map.queryRenderedFeatures(e.point, { layers: ['clusters'] })\n    const clusterId = features[0].properties.cluster_id\n    map.getSource('shops').getClusterExpansionZoom(clusterId, (err: any, zoom: number) => {\n      if (err)\n        return\n\n      map.easeTo({\n        center: features[0].geometry.coordinates,\n        zoom: zoom,\n      })\n    })\n  })\n\n  map.on('mouseenter', 'clusters', function () {\n    map.getCanvas().style.cursor = 'pointer'\n  })\n\n  map.on('mouseleave', 'clusters', function () {\n    map.getCanvas().style.cursor = ''\n  })\n}\n\nexport default setCluster;\n","import React from \"react\";\nimport { FaPhone, FaTwitter, FaInstagram, FaHome } from 'react-icons/fa';\n\nimport './Links.scss'\n\ntype Props = {\n  data: Iemeshi.ShopData;\n};\n\nconst noop = (e: React.MouseEvent) => {\n  e.stopPropagation()\n}\n\nconst Content = (props: Props) => {\n\n  return (\n    <div className=\"links\">\n      {props.data['電話番号']?<div className=\"link\"><a href={`tel:${props.data['電話番号']}`}><FaPhone onClick={noop} size=\"20px\" /></a></div>:''}\n      {props.data['Instagram']?<div className=\"link\"><a href={`https://instagram.com/${props.data['Instagram']}`}><FaInstagram onClick={noop} size=\"20px\" /></a></div>:''}\n      {props.data['Twitter']?<div className=\"link\"><a href={`https://twitter.com/${props.data['Twitter']}`}><FaTwitter onClick={noop} size=\"20px\" /></a></div>:''}\n      {props.data['公式サイト']?<div className=\"link\"><a href={props.data['公式サイト']}><FaHome onClick={noop} size=\"20px\" /></a></div>:''}\n    </div>\n  );\n};\n\nexport default Content;\n","export const makeDistanceLabelText = (distance: number | void) => {\n  let distanceTipText = \"\"\n  if(typeof distance === 'number' && !Number.isNaN(distance)) {\n    if(distance > 1000) {\n      distanceTipText = Math.round(distance / 1000) + ' km'\n    } else {\n      distanceTipText = Math.round(distance) + ' m'\n    }\n  }\n  return distanceTipText\n}\n","import React from \"react\";\nimport Links from './Links'\nimport './Shop.scss'\nimport { AiOutlineClose } from 'react-icons/ai'\nimport { makeDistanceLabelText } from \"./distance-label\";\nimport ReactStars from 'react-stars'\nimport { Link } from \"react-router-dom\";\n\ntype Props = {\n  shop: Iemeshi.ShopData;\n  close: Function;\n}\n\nconst Content = (props: Props) => {\n  const mapNode = React.useRef<HTMLDivElement>(null);\n  const [map, setMap] = React.useState<any>(null)\n  const { shop } = props\n\n  const clickHandler = () => {\n    props.close()\n    if(mapNode.current) {\n      mapNode.current.remove()\n      map.remove()\n    }\n  }\n\n  React.useEffect(() => {\n    if (!mapNode.current) {\n      return\n    }\n\n    // @ts-ignore\n    const nextMap = new window.geolonia.Map({\n      container: mapNode.current,\n      interactive: false,\n      zoom: 14,\n      style: `${process.env.PUBLIC_URL}/styles/dhushine.json`,\n    });\n    setMap(nextMap)\n  }, [shop, mapNode])\n\n  const distanceTipText = makeDistanceLabelText(shop.distance)\n  const category = shop['カテゴリ']\n  const rate = parseInt(shop['推しレベル'])\n  const content = shop['紹介文']\n\n  const toBreakLine = (text: string) => {\n\n    return text.split(/(\\r\\n)|(\\n)|(\\r)/g).map((line, i) => {\n\n      let result: any = '';\n\n      if (line === '\\r\\n' || line === '\\n' || line === '\\r') {\n        result = <br key={i} />\n      } else if (line !== undefined) {\n        result = line\n      }\n\n      return result\n    })\n  }\n\n  return (\n    <div className=\"shop-single\">\n      <div className=\"head\">\n        <button onClick={clickHandler}><AiOutlineClose size=\"16px\" color=\"#FFFFFF\" /> 閉じる</button>\n      </div>\n      <div className=\"container\">\n        {shop?\n          <>\n            <h2>{shop['スポット名']}</h2>\n            <div>\n              <Link to={`/list?category=${category}`}>\n                <span onClick={clickHandler} className=\"category\">{category}</span>\n              </Link>\n              <span className=\"nowrap\">{distanceTipText && <span className=\"distance\">現在位置から {distanceTipText}</span>}</span>\n            </div>\n\n            <div style={{margin: \"24px 0\"}}><Links data={shop} /></div>\n\n            <div\n              ref={mapNode}\n              style={{width: '100%', height: '200px', marginTop: \"24px\"}}\n              data-lat={shop['緯度']}\n              data-lng={shop['経度']}\n              data-navigation-control=\"off\"\n            ></div>\n\n            <p style={{margin: \"24px 0\"}}>{toBreakLine(content)}</p>\n\n            { shop['画像'] && <img src={shop['画像']} alt={shop['スポット名']} style={{width: \"100%\"}} />}\n\n            <div className=\"meta\">\n\n              <div className=\"rating\">\n                <p>推しレベル</p>\n                <div\n                  onClick={clickHandler}\n                >\n                  <Link to={`/list?rate=${rate}`} className='rating-stars'>\n                    <ReactStars\n                      count={5}\n                      value={rate}\n                      edit={false}\n                      size={18}\n                    />\n                  </Link>\n                </div>\n              </div>\n\n              <a className=\"place-url\" href={shop['URL']} target=\"_blank\" rel=\"noopener noreferrer\">{shop['URL']}</a>\n\n\n              <p className=\"author\">作成者または紹介者: <span onClick={clickHandler}><Link to={`/list?author=${shop['学籍番号']}`}>{shop['作成者または紹介者']}</Link></span></p>\n\n              <p className=\"student-id\">{`学籍番号: ${shop['学籍番号']}`}</p>\n\n            </div>\n\n            <p><a className=\"small\" href={`http://maps.apple.com/?q=${shop['緯度']},${shop['経度']}`}>おすすめスポットまでの道順</a></p>\n          </>\n          :\n          <></>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\n// @ts-ignore\nimport geojsonExtent from '@mapbox/geojson-extent'\nimport toGeoJson from './toGeoJson'\nimport setCluster from './setCluster'\nimport Shop from './Shop'\n\ntype Props = {\n  data: Iemeshi.ShopData[];\n};\n\nconst CSS: React.CSSProperties = {\n  width: '100%',\n  height: '100%',\n  position: 'relative',\n}\n\nconst hidePoiLayers = (map: any) => {\n\n  const hideLayers = [\n    'poi',\n    'poi-primary',\n    'poi-r0-r9',\n    'poi-r10-r24',\n    'poi-r25',\n    'poi-bus',\n    'poi-entrance',\n  ]\n\n  for (let i = 0; i < hideLayers.length; i++) {\n    const layerId = hideLayers[i];\n    map.setLayoutProperty(layerId, 'visibility', 'none')\n  }\n}\n\nconst Content = (props: Props) => {\n  const mapNode = React.useRef<HTMLDivElement>(null);\n  const [mapObject, setMapObject] = React.useState<any>()\n  const [shop, setShop] = React.useState<Iemeshi.ShopData | undefined>(undefined)\n\n  const addMarkers = (mapObject: any, data: any) => {\n\n    if (!mapObject || !data) {\n      return\n    }\n\n    mapObject.on('render', () => {\n\n      // nothing to do if shops exists.\n      if (mapObject.getSource('shops')) {\n        return\n      }\n\n      hidePoiLayers(mapObject)\n\n      const textColor = '#000000'\n      const textHaloColor = '#FFFFFF'\n\n      const geojson = toGeoJson(data)\n\n      mapObject.addSource('shops', {\n        type: 'geojson',\n        data: geojson,\n        cluster: true,\n        clusterMaxZoom: 14,\n        clusterRadius: 25,\n      })\n\n      mapObject.addLayer({\n        id: 'shop-points',\n        type: 'circle',\n        source: 'shops',\n        filter: ['all',\n          ['==', '$type', 'Point'],\n        ],\n        paint: {\n          'circle-radius': 13,\n          'circle-color': '#FF0000',\n          'circle-opacity': 0.4,\n          'circle-stroke-width': 2,\n          'circle-stroke-color': '#FFFFFF',\n          'circle-stroke-opacity': 1,\n        },\n      })\n\n      mapObject.addLayer({\n        id: 'shop-symbol',\n        type: 'symbol',\n        source: 'shops',\n        filter: ['all',\n          ['==', '$type', 'Point'],\n        ],\n        paint: {\n          'text-color': textColor,\n          'text-halo-color': textHaloColor,\n          'text-halo-width': 2,\n        },\n        layout: {\n          'text-field': \"{スポット名}\",\n          'text-font': ['Noto Sans Regular'],\n          'text-variable-anchor': ['top', 'bottom', 'left', 'right'],\n          'text-radial-offset': 0.5,\n          'text-justify': 'auto',\n          'text-size': 12,\n          'text-anchor': 'top',\n          'text-max-width': 12,\n          'text-allow-overlap': false,\n        },\n      })\n\n      mapObject.on('mouseenter', 'shop-points', () => {\n        mapObject.getCanvas().style.cursor = 'pointer'\n      })\n\n      mapObject.on('mouseleave', 'shop-points', () => {\n        mapObject.getCanvas().style.cursor = ''\n      })\n\n      mapObject.on('mouseenter', 'shop-symbol', () => {\n        mapObject.getCanvas().style.cursor = 'pointer'\n      })\n\n      mapObject.on('mouseleave', 'shop-symbol', () => {\n        mapObject.getCanvas().style.cursor = ''\n      })\n\n      mapObject.on('click', 'shop-points', (event: any) => {\n        if (!event.features[0].properties.cluster) {\n          setShop(event.features[0].properties)\n        }\n      })\n\n      mapObject.on('click', 'shop-symbol', (event: any) => {\n        if (!event.features[0].properties.cluster) {\n          setShop(event.features[0].properties)\n        }\n      })\n\n      setCluster(mapObject)\n\n\n    });\n\n  }\n\n  React.useEffect(() => {\n\n    addMarkers(mapObject, props.data)\n\n  }, [mapObject, props.data])\n\n  React.useEffect(() => {\n    // Only once reder the map.\n    if (!mapNode.current || mapObject) {\n      return\n    }\n\n    // @ts-ignore\n    const { geolonia } = window;\n\n    const geojson = toGeoJson(props.data)\n    const bounds = geojsonExtent(geojson)\n\n    const map = new geolonia.Map({\n      container: mapNode.current,\n      style: 'geolonia/gsi',\n      bounds: bounds,\n      fitBoundsOptions: { padding: 50 }\n    });\n\n    if (bounds) {\n      map.fitBounds(bounds, { padding: 50 })\n    }\n\n    const onMapLoad = () => {\n      hidePoiLayers(map)\n      setMapObject(map)\n    }\n\n    const orienteationchangeHandler = () => {\n      map.resize()\n    }\n\n    // attach\n    map.on('load', onMapLoad)\n\n    window.addEventListener('orientationchange', orienteationchangeHandler)\n\n    return () => {\n      // detach to prevent memory leak\n      window.removeEventListener('orientationchange', orienteationchangeHandler)\n      map.off('load', onMapLoad)\n    }\n  }, [mapNode, mapObject, props.data])\n\n  const closeHandler = () => {\n    setShop(undefined)\n  }\n\n  return (\n    <>\n      <select\n        name=\"styles\"\n        id=\"style-select\"\n        style={{\n          position: \"absolute\",\n          zIndex: 2,\n          margin: \"10px\"\n        }}\n        onChange={(e) => {\n\n          const selectStyle = e.target.value\n\n          if (!mapObject) {\n            return\n          }\n\n          if (selectStyle === 'gsi') {\n            mapObject.setStyle('https://cdn.geolonia.com/style/geolonia/gsi/ja.json')\n          } else if (selectStyle === 'basic') {\n            mapObject.setStyle('https://geoloniamaps.github.io/basic/style.json')\n          } else if (selectStyle === 'midnight') {\n            mapObject.setStyle('https://cdn.geolonia.com/style/geolonia/midnight/ja.json')\n          }\n\n          addMarkers(mapObject, props.data)\n\n        }}\n      >\n        <option value=\"gsi\">GSI</option>\n        <option value=\"basic\">Basic</option>\n        <option value=\"midnight\">Midnight</option>\n      </select>\n      <div style={CSS}>\n        <div\n          ref={mapNode}\n          style={CSS}\n          data-geolocate-control=\"on\"\n          data-marker=\"off\"\n          data-gesture-handling=\"off\"\n        ></div>\n        {shop ?\n          <Shop shop={shop} close={closeHandler} />\n          :\n          <></>\n        }\n      </div>\n    </>\n\n  );\n};\n\nexport default Content;\n","import React from \"react\";\nimport Map from \"./Map\"\n\ntype Props = {\n  data: Iemeshi.ShopData[];\n}\n\nconst Content = (props: Props) => {\n  return (\n    <><Map data={props.data} /></>\n  );\n};\n\nexport default Content;\n","import Links from './Links'\nimport { BsChevronCompactRight } from 'react-icons/bs'\nimport { makeDistanceLabelText } from './distance-label'\nimport ReactStars from 'react-stars'\nimport './ShopListItem.scss'\nimport { Link } from \"react-router-dom\";\n\ntype Props = {\n  data: Iemeshi.ShopData;\n  popupHandler: Function;\n  queryCategory: string | null;\n};\n\nconst Content = (props: Props) => {\n  const clickHandler = () => {\n    props.popupHandler(props.data)\n  }\n\n  const distanceTipText = makeDistanceLabelText(props.data.distance)\n  const category = props.data['カテゴリ']\n  const rate = parseInt(props.data['推しレベル'])\n\n  const isCategoryPage = props.queryCategory ? true :false\n\n  return (\n    <>\n      <div className=\"shop-link\">\n        <h2 className=\"shop-title\" onClick={clickHandler}>{props.data['スポット名']}</h2>\n        <div className='tag-box'>\n          <span className=\"nowrap\">\n            {\n              !isCategoryPage &&\n              <Link to={`/list?category=${category}`}>\n                <span className=\"category\">{category}</span>\n              </Link>\n            }\n          </span>\n          <span className=\"nowrap\">{distanceTipText && <span className=\"distance\">現在位置から {distanceTipText}</span>}</span>\n        </div>\n\n        <Links data={props.data} />\n\n        <div style={{ margin: \"16px 0\" }}>\n          <div className=\"rating\">\n\n            <p>推しレベル</p>\n            <Link to={`/list?rate=${rate}`} className='rating-stars'>\n              <ReactStars\n                count={5}\n                value={rate}\n                edit={false}\n                size={18}\n              />\n            </Link>\n\n          </div>\n            <p className=\"author\">作成者または紹介者: <Link to={`/list?author=${props.data['学籍番号']}`}>{props.data['作成者または紹介者']}</Link></p>\n        </div>\n\n        <div className=\"right\" onClick={clickHandler}><BsChevronCompactRight size=\"40px\" color=\"#CCCCCC\" /></div>\n      </div>\n    </>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\nimport ShopListItem from './ShopListItem'\nimport Shop from './Shop'\nimport './List.scss'\nimport { useSearchParams } from \"react-router-dom\";\nimport ReactStars from 'react-stars'\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\ntype Props = {\n  data: Iemeshi.ShopData[];\n}\n\nconst Content = (props: Props) => {\n\n  const [shop, setShop] = React.useState<Iemeshi.ShopData | undefined>()\n  const [data, setData] = React.useState<Iemeshi.ShopData[]>(props.data)\n  const [list, setList] = React.useState<any[]>([]);\n  const [page, setPage] = React.useState(10);\n  const [hasMore, setHasMore] = React.useState(true);\n\n  const [searchParams] = useSearchParams();\n  const queryCategory = searchParams.get('category')\n  const queryRate = searchParams.get('rate')\n  const queryAuthor = searchParams.get('author')\n  let queryAuthorName = ''\n  if (queryAuthor) {\n    const postByAuthor = data.find(item => item['学籍番号'] === queryAuthor)\n\n    if (postByAuthor) {\n      queryAuthorName = postByAuthor['作成者または紹介者']\n    }\n  }\n\n\n  React.useEffect(() => {\n\n    let data = props.data;\n\n    if (queryCategory) {\n      data = props.data.filter((shop) => {\n        return shop['カテゴリ'] === queryCategory\n      })\n    }\n\n    if (queryRate) {\n      data = props.data.filter((shop) => {\n        return shop['推しレベル'] === queryRate\n      })\n    }\n\n    if (queryAuthor) {\n      data = props.data.filter((shop) => {\n        return shop['学籍番号'] === queryAuthor\n      })\n    }\n\n    let isMounted = true\n    // prevent memory leak\n    if (isMounted) {\n      setList(data.slice(0, page))\n      setData(data)\n    }\n\n    return () => {\n      isMounted = false\n    }\n  }, [props.data, queryCategory, queryRate, queryAuthor, page])\n\n\n  const popupHandler = (shop: Iemeshi.ShopData) => {\n    if (shop) {\n      setShop(shop)\n    }\n  }\n\n  const closeHandler = () => {\n    setShop(undefined)\n  }\n\n    //項目を読み込むときのコールバック\n    const loadMore = () => {\n\n      //データ件数が0件の場合、処理終了\n      if (list.length >= data.length) {\n        setHasMore(false);\n        return;\n      }\n\n      setList([...list, ...data.slice(page, page + 10)])\n      setPage(page + 10)\n    }\n\n  const loader = <div\n    className=\"loader\"\n    key={0}\n    style={{\n      width: '100%',\n      textAlign: 'center',\n    }}\n  >Loading ...</div>;\n\n  return (\n    <div id=\"shop-list\" className=\"shop-list\">\n      {queryCategory && <div className=\"shop-list-category\">{`カテゴリ：「${queryCategory}」`}</div>}\n      {queryRate &&\n        <div className=\"shop-list-category\">\n          {`推しレベル：`}\n          <ReactStars\n            count={5}\n            value={parseInt(queryRate)}\n            edit={false}\n            size={18}\n          />\n        </div>}\n      {queryAuthor && <div className=\"shop-list-category\">{`作成者または紹介者：「${queryAuthorName}」`}</div>}\n\n      <InfiniteScroll\n        dataLength={list.length}\n        next={loadMore}\n        hasMore={hasMore}\n        loader={loader}\n        scrollableTarget=\"shop-list\"\n      >\n        {\n          list.length === 0 ?\n            <div className=\"shop-list-not-found\">お探しのおすすめの場所が見つかりませんでした</div>\n            :\n            list.map((item, index) => {\n\n              return (<div key={index} className=\"shop\">\n                <ShopListItem\n                  data={item}\n                  popupHandler={popupHandler}\n                  queryCategory={queryCategory}\n                />\n              </div>)\n\n            })\n        }\n      </InfiniteScroll>\n      {shop ?\n        <Shop shop={shop} close={closeHandler} />\n        :\n        <></>\n      }\n    </div>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\nimport './AboutUs.scss'\nimport config from '../config.json'\nimport { FaPlus } from 'react-icons/fa';\n\nconst Content = () => {\n  const clickHandler = () => {\n    if (config.form_url) {\n      window.location.href = config.form_url\n    }\n  }\n\n  return (\n    <div className=\"about-us\">\n      <div className=\"container\">\n        <div className=\"branding\">\n          <div className=\"image\"><img src={`${process.env.PUBLIC_URL}/logo.svg`} alt=\"\"/></div>\n          <div className=\"logo\">{config.title}</div>\n        </div>\n\n        <p>イエメシはテイクアウトに対応しているお店を紹介するためのアプリで、<a href=\"https://github.com/iemeshi/app\">オープンソース</a>で開発されています。</p>\n        <p>掲載されている店舗は、コミュニティのみなさんによってメンテナンスされています。</p>\n\n        <h2>{config.title}版について</h2>\n        <p>{config.title}版は以下のリポジトリで開発されています。</p>\n        <p><a href={config.repository}>{config.repository}</a></p>\n\n        {config.form_url?\n          <>\n            <p>データの追加や修正をご希望の方は以下のフォームをご利用ください。</p>\n            <p><a href={config.form_url}>データの登録/更新申請フォーム</a></p>\n          </>\n          :\n          <></>\n        }\n\n        <h2>イエメシに関するお問い合わせ</h2>\n        <p><a href=\"https://geolonia.com/contact/\">イエメシに関するお問い合わせはこちらからどうぞ。</a></p>\n        <p>掲載店舗に関するお問い合わせにつきましては、ご対応いたしかねますのであらかじめご了承ください。</p>\n\n        {config.form_url?\n          <>\n            <div className=\"goto-form\"><button><FaPlus color=\"#FFFFFF\" onClick={clickHandler} /></button></div>\n          </>\n          :\n          <></>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\nimport ReactStars from 'react-stars'\nimport Select from 'react-select'\nimport { useNavigate } from 'react-router-dom';\nimport './Category.scss'\n\ntype Props = {\n  data: Iemeshi.ShopData[];\n}\n\ntype AuthorProps = {\n  id: string;\n  name: string;\n}\n\nconst Content = (props: Props) => {\n\n  const navigate = useNavigate();\n\n  const [categoryList, setCategoryList] = React.useState<string[]>([]);\n  const [rateList, setRateList] = React.useState<string[]>([]);\n  const [authorList, setAuthorList] = React.useState<AuthorProps[]>([]);\n\n  React.useEffect(() => {\n\n    let categories: string[] = []\n    let rates: string[] = []\n    let authors: AuthorProps[] = []\n\n    for (let i = 0; i < props.data.length; i++) {\n      const shop = props.data[i];\n\n      if (categories.indexOf(shop['カテゴリ']) === -1) {\n\n        categories.push(shop['カテゴリ'])\n      }\n\n      if (rates.indexOf(shop['推しレベル']) === -1) {\n        rates.push(shop['推しレベル'])\n      }\n\n      const author = {\n        id: shop['学籍番号'],\n        name: shop['作成者または紹介者']\n      }\n\n      if (authors.findIndex(item => item.id === author.id) === -1) {\n        authors.push(author)\n      }\n    }\n\n    setCategoryList(categories)\n    setRateList(rates)\n    setAuthorList(authors)\n\n  }, [props.data])\n\n\n  return (\n    <>\n      <div className=\"head\"></div>\n      <div className=\"category\">\n        <div className=\"container\">\n          <div className=\"category-item\">\n            <label htmlFor=\"category-select\">カテゴリから選ぶ</label>\n            <Select\n              onChange={(e) => {\n                if (e) {\n                  navigate(`/list?category=${e.value}`);\n                }\n              }}\n              options={\n                categoryList.map(category => {\n                  return {\n                    value: category,\n                    label: category\n                  }\n                })\n              }\n            />\n          </div>\n\n          <div className=\"category-item\">\n            <label htmlFor=\"rating-item\">推しレベルから選ぶ</label>\n            <Select\n              onChange={(e) => {\n                if (e) {\n                  navigate(`/list?rate=${e.value}`);\n                }\n              }}\n              options={\n                rateList.map(rate => {\n                  return {\n                    value: rate,\n                    label: <ReactStars\n                      count={5}\n                      value={parseInt(rate)}\n                      edit={false}\n                      size={18}\n                    />\n                  }\n                })} />\n          </div>\n\n          <div className=\"category-item\">\n            <label htmlFor=\"author-select\">作成者または紹介者から選ぶ</label>\n            <Select\n              onChange={(e) => {\n                if (e) {\n                  navigate(`/list?author=${e.value}`);\n                }\n              }}\n              options={\n                authorList.map(author => {\n                  return {\n                    value: author.id,\n                    label: author.name\n                  }\n                })\n              }\n            />\n          </div>\n\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Content;\n","import { useEffect, useState } from 'react'\nimport { ImageList, ImageListItem } from '@material-ui/core'\nimport Shop from './Shop'\nimport './Images.scss'\n\ntype Props = {\n  data: Iemeshi.ShopData[];\n}\n\nconst Content = (props: Props) => {\n\n  const { data } = props;\n  const [validImageList, setValidImageList ] = useState<JSX.Element[]>([]);\n  const [shop, setShop] = useState<Iemeshi.ShopData | undefined>()\n\n  const popupHandler = (shop: Iemeshi.ShopData) => {\n    if (shop) {\n      setShop(shop)\n    }\n  }\n\n  const closeHandler = () => {\n    setShop(undefined)\n  }\n\n  useEffect(() => {\n\n    let imageListItems = []\n\n    for (let i = 0; i < data.length; i++) {\n      const item = data[i];\n\n      if (item['画像'] && item['画像'].match('raw=1') && item['画像'].match('dropbox')) {\n\n        imageListItems.push(\n          <ImageListItem\n            key={i}\n            className=\"mui-image-list-item\"\n          >\n            <img\n              src={item['画像']}\n              alt={item['スポット名']}\n              loading=\"lazy\"\n              onClick={() => popupHandler(item)}\n              onError={e => {\n                //@ts-ignore\n                e.target.parentNode.remove()\n              }}\n            />\n          </ImageListItem>\n        )\n      }\n    }\n\n    setValidImageList(imageListItems)\n\n  }, [data])\n\n  return (\n    <>\n      <div className=\"head\"></div>\n      <div className=\"images\">\n        <div className=\"container\">\n          <ImageList id=\"mui-image-list\" sx={{ width: \"100%\", height: \"100%\" }} cols={2} rowHeight={164}>\n            {validImageList}\n          </ImageList>\n          {shop ?\n            <Shop shop={shop} close={closeHandler} />\n            :\n            <></>\n          }\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport './Tabbar.scss'\n\nimport { FaList, FaHome, FaSearch, FaCamera } from \"react-icons/fa\"\nimport { AiOutlineAppstore } from \"react-icons/ai\"\n\nconst Content = () => {\n  return (\n    <div className=\"tabbar\">\n      <ul>\n        <li><Link to=\"/\"><div className=\"icon\"><FaHome /></div><div className=\"text\">ホーム</div></Link></li>\n        <li><Link to=\"/list\"><div className=\"icon\"><FaList /></div><div className=\"text\">一覧</div></Link></li>\n        <li><Link to=\"/category\"><div className=\"icon\"><FaSearch /></div><div className=\"text\">カテゴリ</div></Link></li>\n        <li><Link to=\"/images\"><div className=\"icon\"><FaCamera /></div><div className=\"text\">写真から探す</div></Link></li>\n        <li><Link to=\"/about\"><div className=\"icon\"><AiOutlineAppstore /></div><div className=\"text\">マップについて</div></Link></li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport \"./App.scss\";\n\nimport Home from './App/Home'\nimport List from './App/List'\nimport AboutUs from './App/AboutUs'\nimport Category from './App/Category'\nimport Images from './App/Images'\n\nimport Tabbar from './App/Tabbar'\n\n// You can see config.json after running `npm start` or `npm run build`\n// import config from './config.json'\n\nconst zen2han = (str: string) => {\n  return str.replace(/[！-～]/g, function (s: string) {\n    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\n  }).replace(/　/g, ' ');\n}\n\nconst sortShopList = async (shopList: Iemeshi.ShopData[]) => {\n\n  // 新着順にソート\n  return shopList.sort(function (item1, item2) {\n    return Date.parse(item2['タイムスタンプ']) - Date.parse(item1['タイムスタンプ'])\n  });\n\n}\n\nconst App = () => {\n  const [shopList, setShopList] = React.useState<Iemeshi.ShopData[]>([])\n\n  React.useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/data.json?timestamp=${new Date().getTime()}`)\n      .then((response) => {\n        return response.ok ? response.text() : Promise.reject(response.status);\n      })\n      .then((fetchedData) => {\n\n        const data = JSON.parse(fetchedData)\n\n        if ('values' in data === false) {\n          console.log(\"No Data Found at Spreadsheet\")\n          setShopList([])\n          return\n        }\n\n        const header = data.values[0]\n        const records = data.values.slice(1)\n\n        let features = records.map((record: string) => {\n          const properties = header.reduce((prev: any, column: any) => {\n            const value = record[header.indexOf(column)];\n            prev[column] = zen2han(value);\n            return prev;\n          }, {});\n          return properties;\n        });\n\n        const nextShopList: Iemeshi.ShopData[] = []\n        for (let i = 0; i < features.length; i++) {\n          const feature = features[i] as Iemeshi.ShopData\n\n          if (!feature['緯度'] || !feature['経度'] || !feature['スポット名']) {\n            continue;\n          }\n          if (!feature['緯度'].match(/^-?[0-9]+(\\.[0-9]+)?$/)) {\n            continue\n          }\n          if (!feature['経度'].match(/^-?[0-9]+(\\.[0-9]+)?$/)) {\n            continue\n          }\n\n          for (const key in feature) {\n\n            if (key === '画像' && feature['画像'].match(/^https:\\/\\/www.dropbox.com\\/s\\//)) {\n\n              // Dropbox の共有 URL から　直 URL に変換\n              feature['画像'] = feature['画像'].replace(/dl=\\d+$/, 'raw=1')\n            }\n          }\n\n          const shop = {\n            ...feature,\n            index: i\n          }\n\n          nextShopList.push(shop)\n        }\n\n        sortShopList(nextShopList).then((sortedShopList) => {\n          setShopList(sortedShopList)\n        })\n\n      });\n  }, [])\n\n  return (\n    <div className=\"app\">\n      <div className=\"app-body\">\n        <Routes>\n          <Route path=\"/\" element={<Home data={shopList} />} />\n          <Route path=\"/list\" element={<List data={shopList} />} />\n          <Route path=\"/category\" element={<Category data={shopList} />} />\n          <Route path=\"/images\" element={<Images data={shopList} />} />\n          <Route path=\"/about\" element={<AboutUs />} />\n        </Routes>\n      </div>\n      <div className=\"app-footer\">\n        <Tabbar />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { useQRCode } from 'next-qrcode';\n\nfunction Qrcode(props: { url: string }) {\n\n  const { url } = props;\n  const { Canvas } = useQRCode();\n\n  return (\n    <Canvas\n      text={url}\n      options={{\n        type: 'image/png',\n        margin: 0,\n        width: 128\n      }}\n    />\n  );\n}\n\nexport default Qrcode;\n","import React from \"react\";\nimport { FacebookShareButton, LineShareButton, TwitterShareButton } from \"react-share\";\nimport { FacebookIcon, LineIcon, TwitterIcon } from \"react-share\";\nimport config from '../config.json'\n\nimport './Share.scss'\n\nconst Content = () => {\n  const url = window.location.href.replace(/\\?.+$/, '').replace(/#.+$/, '')\n\n  return (\n    <div className=\"share\">\n      <ul>\n        <li><a href=\"/\"><TwitterShareButton url={url} hashtags={[`${config.title}`]} title={`${config.title}`}><TwitterIcon size={32} round={true} /></TwitterShareButton></a></li>\n        <li><a href=\"/\"><FacebookShareButton url={url} hashtag={`#${config.title}`}><FacebookIcon size={32} round={true} /></FacebookShareButton></a></li>\n        <li><a href=\"/\"><LineShareButton url={url} title={`${config.title}`}><LineIcon size={32} round={true} /></LineShareButton></a></li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\nimport './About.scss'\nimport Qrcode from './Qrcode'\nimport Share from './App/Share'\nimport config from './config.json'\n\nconst Content = () => {\n\n  return (\n    <div className=\"about\">\n      <div className=\"branding\">\n        <img className=\"image\" src={`${process.env.PUBLIC_URL}/logo.svg`} alt=\"\"/>\n      </div>\n\n      <div className=\"description\">{config.description}</div>\n      <div className=\"qrcode\"><Qrcode url={window.location.href}/></div>\n      <Share />\n    </div>\n  );\n};\n\nexport default Content;\n","import React from \"react\";\n\nimport App from './App'\nimport About from './About'\nimport './Container.scss'\n\nfunction Content() {\n  return (\n    <div className=\"outer-container\">\n      <div className=\"inner-container\">\n        <About />\n        <App />\n      </div>\n    </div>\n  );\n}\n\nexport default Content;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from \"react-router-dom\";\nimport Container from './Container';\nimport './index.scss'\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Container />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}